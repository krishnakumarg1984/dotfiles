$include /etc/inputrc
set editing-mode vi
$if mode=vi

    # these are for vi-command mode
    set keymap vi-command
    "\e\e[A": history-search-backward
    "\e\e[B": history-search-forward
    Control-l: clear-screen
    Control-p: previous-history
    Control-n: next-history
    # Two escapes clear command line. (Use C-c or \eC\eC instead)
    "\e\e": "\e0\C-ki"

    # these are for vi-insert mode
    # Option-up/option-down should also apply to insert mode
    set keymap vi-insert
    "\e\e[A": history-search-backward
    "\e\e[B": history-search-forward
    Control-l: clear-screen
    Control-p: previous-history
    Control-n: next-history
    # Two escapes clear command line. (Use C-c or \eC\eC instead)
    "\e\e": "\e0\C-ki"

    # Pressing tab will list all completions & select the first one. Pressing it
    # again will cycle through available completions.
    TAB: menu-complete
    # Shift-TAB cycles completions backward
    "\e[Z": menu-complete-backward

    # Needed because binding 'p' in command mode above wipes its insert mode
    # function, too. This fixes that, and will insert 'p' when you type 'p'.
    "p": self-insert
$endif

# Show all completions as soon as I press tab, even if there's more than one
set show-all-if-ambiguous on

# Ignore case
set completion-ignore-case on

# on menu-complete, first display the common prefix, then cycle through the options when hitting TAB
menu-complete-display-prefix on
